## Tutorial

This short tutorial shows you how to initialize a project for proper AsciiDoc Spock-Reports.

### Initialize Gradle Project

First, create a folder an initialize your project via gradle:

[source, bash]
----
$ gradle init
Starting a Gradle Daemon (subsequent builds will be faster)

Select type of project to generate:
  1: basic
  2: cpp-application
  3: cpp-library
  4: groovy-application
  5: groovy-library
  6: java-application
  7: java-library
  8: kotlin-application
  9: kotlin-library
  10: scala-library
Enter selection (default: basic) [1..10] 4

Select build script DSL:
  1: groovy
  2: kotlin
Enter selection (default: groovy) [1..2] 1

Project name (default: SpockAsciiDocReports):
Source package (default: SpockAsciiDocReports): demo

BUILD SUCCESSFUL in 3m 35s
2 actionable tasks: 2 executed
----

As a result, you now have a basic Gradle based project with Spock already pre-configured.
This also already contains a working test.

## docToolchain

Now initialize docToolchain.
We need this to easily do some AsciiDoc transformations.

[source, bash]
----
$ git submodule add https://github.com/docToolchain/docToolchain.git
Cloning into '.../docToolchain'...
remote: Enumerating objects: 39, done.
remote: Counting objects: 100% (39/39), done.
remote: Compressing objects: 100% (27/27), done.
remote: Total 3160 (delta 17), reused 28 (delta 12), pack-reused 3121
Receiving objects: 100% (3160/3160), 13.67 MiB | 854.00 KiB/s, done.
Resolving deltas: 100% (1606/1606), done.
$ echo "include 'docToolchain'" >> settings.gradle
$ mkdir src/docs/images
$ touch src/docs/tutorial.adoc
$ mkdir config
$ touch config/docToolchain.groovy
$ vi config/docToolchain.groovy
----

now copy and paste the following:

[source, bash]
----
outputPath = 'build/docs'

// Path where the docToolchain will search for the input files.
// This path is appended to the docDir property specified in gradle.properties
// or in the command line, and therefore must be relative to it.
inputPath = 'src/docs'

inputFiles = [
              [file: 'tutorial.adoc', formats: ['html','pdf']],
             ]

taskInputsDirs = ["${inputPath}/images"]

taskInputsFiles = []
----

[source, bash]
----
$ vi build.gradle
----

[source, bash]
----
//configure docToolchain to use the main project's config
project('docToolchain') {
    if (project.hasProperty('docDir')) {
        docDir = '../.'
        mainConfigFile = 'config/docToolchain.groovy'
    } else {
        println "="*80
        println "  please initialize the docToolchain submodule"
        println "  by executing git submodule update -i"
        println "="*80
    }
}
----
